<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('./partials/head') %>
        <title>Registro</title>
    </head>
    
    <body class="body-registro">
        <%- include('./partials/header') %>
        <main>
        <section class="registro">
            <h1>Crear Cuenta</h1>
            <div class="datos-personales">
                <h3>Datos Personales</h3>
            </div>
            <div class="form-registro">
            <form action="/usuarios/registrar" method="POST" enctype="multipart/form-data">
                    <p class="elt-reg">
                        <label for="firstName">Nombre (s):</label>
                        <br>
                        <input type="text" id="firstName" name="firstName" value="<%= locals.oldData ? oldData.firstName : null %> ">
                        <% if (locals.errors && errors.firstName) { %>
                            <div style="color: red; text-align: center;"><%= errors.firstName.msg %> </div>
                        <% } %>
                    </p>
                    
                    <p class="elt-reg">
                        <label for="lastName">Apellidos:</label>
                        <br>
                        <input type="text" id="lastName" name="lastName" value="<%= locals.oldData ? oldData.lastName : null %> " >
                        <% if (locals.errors && errors.lastName) { %>
                            <div style="color: red; text-align: center;"><%= errors.lastName.msg %> </div>
                        <% } %>
                    </p>

                    <p class="elt-reg">
                        <label for="email">e-mail:</label>
                        <br>
                        <input type="email" id="email" name="email" value="<%= locals.oldData ? oldData.email : null %> ">
                        <% if (locals.errors && errors.email) { %>
                            <div style="color: red; text-align: center;"><%= errors.email.msg %> </div>
                        <% } %>
                    </p>

                    <p class="elt-reg">
                        <label for="picture">Foto de usuario:</label>
                        <br>
                        <input type="file" id="picture" name="picture">
                    </p>

                    <p class="elt-reg">
                        <label for="phone">Teléfono:</label>
                        <br>
                        <input type="tel" id="phone" name="phone" value="<%= locals.oldData ? oldData.phone : null %> ">
                        <% if (locals.errors && errors.phone) { %>
                            <div style="color: red; text-align: center;"><%= errors.phone.msg %> </div>
                        <% } %>
                    </p>

                    <p class="elt-reg">
                        <label for="streetNumber">Calle y número:</label>
                        <br>
                        <input type="text" id="streetNumber" name="streetNumber" value="<%= locals.oldData ? oldData.streetNumber : null %> ">
                        <% if (locals.errors && errors.streetNumber) { %>
                            <div style="color: red; text-align: center;"><%= errors.streetNumber.msg %> </div>
                        <% } %>
                    </p>

                    <p class="elt-reg">
                        <label for="postalCode">Código postal:</label>
                        <br>
                        <input type="text" id="postalCode" name="postalCode" value="<%= locals.oldData ? oldData.postalCode : null %> ">
                        <% if (locals.errors && errors.postalCode) { %>
                            <div style="color: red;  text-align: center;"><%= errors.postalCode.msg %> </div>
                        <% } %>
                    </p>

                    <p class="elt-reg">
                        <label>País:</label>
                        <br>
                        <% let countries = ['Mexico','Guatemala','Belice','Salvador','Honduras','Nicaragua','Panama','Ecuador','Colombia','Venezuela','Otro']; %> 
                        <select name="country" required> <!--Agregar aquí una lista dinamica-->
                            <% for (let country of countries){ %> 
                            <option value=<%= country %>><%= country  %> 
                            <% } %> 
                        </select>
                    </p>
                    
                    <p class="elt-reg">
                        <label for="password">Contraseña:</label>
                        <br>
                        <input type="password" id="password" name="password" required>
                        <% if (locals.errors && errors.password) { %>
                            <div style="color: red; text-align: center;"><%= errors.password.msg %> </div>
                        <% } %>
                    </p>

                    <p class="elt-reg">
                        <label for="confirm-pass">Confirmar contraseña:</label>
                        <br>
                        <input type="password" id="confirm-pass" name="confirm-pass" required>
                    </p>                    
    
                <div class="terminos">
                    <p>
                        <label>
                            <input type="radio" name="terminos" value="acepta-terminos" required>
                            Acepto los términos y condiciones
                        </label>
                    </p>
                </div>
                <div class="condiciones">
                    <p>
                        <label>
                            <input type="checkbox" name="publicidad" value="acepta-publicidad">
                            Deseo recibir ofertas y publicidad a mi correo electrónico
                        </label>
                    </p>
                </div>
                <div class="botones-registro">
                    <button type="submit">Enviar mis datos</button>
                </div>
            </form> 
        </div>
        </section>
        
    </main>
    <%- include('./partials/footer') %> 
    </body>

</html>